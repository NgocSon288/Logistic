CREATE DATABASE Logistic_Db1
GO

USE Logistic_Db1
GO

CREATE TABLE ItemType
(
	Id INT NOT NULL PRIMARY KEY,
	Name VARCHAR(255)
)
GO

CREATE TABLE Item
(
	Id INT NOT NULL PRIMARY KEY,
	Name VARCHAR(255),
	SafetyStock INT,
	Inventory INT,
	LeadTime INT,
	LotSize INT,
	ItemTypeId INT,
	FOREIGN KEY (ItemTypeId) REFERENCES ItemType(Id)
)
GO

CREATE TABLE ItemRelationship
(
	Id INT NOT NULL PRIMARY KEY, 
	ParentId INT NOT NULL,
	ChildId INT NOT NULL,
	Value INT,
	FOREIGN KEY (ParentId) REFERENCES Item(Id),
	FOREIGN KEY (ChildId) REFERENCES Item(Id)
)
GO
 
CREATE TABLE Orders
(
	Id INT NOT NULL PRIMARY KEY,
	Week INT,
	Year INT,
	Quantity INT,
	ItemId INT,
	FOREIGN KEY (ItemId) REFERENCES Item(Id)
)
GO

INSERT INTO ItemType VALUES (1, 'Finish Product');
INSERT INTO ItemType VALUES (2, 'Assembly');
INSERT INTO ItemType VALUES (3, 'Material');
GO

-- Insert Item							Safety	Invent	Lead	LotSize	
INSERT INTO Item VALUES ( 1,	'F1'	, 0, 250, 1, 0, 1)
INSERT INTO Item VALUES ( 2,	'F2'	, 0, 270, 1, 0, 1)
INSERT INTO Item VALUES ( 3,	'F3'	, 0, 300, 1, 0, 1)
INSERT INTO Item VALUES ( 4,	'F4'	, 0, 310, 1, 0, 1)
INSERT INTO Item VALUES ( 5,	'F5'	, 0, 290, 1, 0, 1)
INSERT INTO Item VALUES ( 6,	'F6'	, 0, 330, 1, 0, 1)
INSERT INTO Item VALUES ( 7,	'WA'	, 40, 123, 4, 0, 2)
INSERT INTO Item VALUES ( 8,	'WB'	, 40, 154, 4, 0, 2)
INSERT INTO Item VALUES ( 9,	'WC'	, 20, 121, 4, 0, 2)
INSERT INTO Item VALUES ( 10,	'WD'	, 40, 205, 4, 0, 2)
INSERT INTO Item VALUES ( 11,	'WE'	, 40, 174, 4, 0, 2)
INSERT INTO Item VALUES ( 12,	'W1'	, 40, 126, 4, 0, 3)
INSERT INTO Item VALUES ( 13,	'W2'	, 40, 123, 4, 0, 3)
INSERT INTO Item VALUES ( 14,	'W3'	, 40, 136, 4, 0, 3)
INSERT INTO Item VALUES ( 15,	'W4'	, 50, 50, 5, 0, 3)
INSERT INTO Item VALUES ( 16,	'W5'	, 20, 150, 1, 4, 3)
INSERT INTO Item VALUES ( 17,	'W6'	, 10, 126, 1, 24, 3)
INSERT INTO Item VALUES ( 18,	'W7'	, 10, 108, 1, 12, 3)
INSERT INTO Item VALUES ( 19,	'W8'	, 40, 70, 4, 24, 3)
INSERT INTO Item VALUES ( 20,	'W9'	, 40, 136, 4, 0, 3)
INSERT INTO Item VALUES ( 21,	'W10'	, 40, 125, 4, 0, 3)
INSERT INTO Item VALUES ( 22,	'W11'	, 40, 176, 4, 0, 3)
INSERT INTO Item VALUES ( 23,	'W12'	, 40, 104, 4, 0, 3)
INSERT INTO Item VALUES ( 24,	'W13'	, 40, 127, 4, 0, 3)
INSERT INTO Item VALUES ( 25,	'W14'	, 40, 116, 4, 0, 3)
INSERT INTO Item VALUES ( 26,	'W15'	, 40, 199, 4, 0, 3)
INSERT INTO Item VALUES ( 27,	'GA'	, 20, 60, 3, 0, 2)
INSERT INTO Item VALUES ( 28,	'GB'	, 20, 40, 4, 0, 2)
INSERT INTO Item VALUES ( 29,	'GC'	, 20, 55, 4, 0, 2)
INSERT INTO Item VALUES ( 30,	'SA'	, 15, 90, 2, 0, 2)
INSERT INTO Item VALUES ( 31,	'SB'	, 15, 115, 2, 0, 2)
INSERT INTO Item VALUES ( 32,	'SC'	, 15, 60, 3, 0, 2)
INSERT INTO Item VALUES ( 33,	'SD'	, 10, 78, 2, 0, 2)
INSERT INTO Item VALUES ( 34,	'S1'	, 30, 90, 1, 0, 3)
INSERT INTO Item VALUES ( 35,	'S2'	, 400, 600, 2, 1000, 3)
INSERT INTO Item VALUES ( 36,	'S3'	, 30, 110, 2, 12, 3)
INSERT INTO Item VALUES ( 37,	'S4'	, 40, 80, 1, 0, 3)
INSERT INTO Item VALUES ( 38,	'S5'	, 40, 120, 2, 0, 3)
INSERT INTO Item VALUES ( 39,	'S6'	, 50, 140, 3, 24, 3)
INSERT INTO Item VALUES ( 40,	'S7'	, 40, 98, 2, 0, 3)
INSERT INTO Item VALUES ( 41,	'S8'	, 40, 140, 1, 0, 3)
INSERT INTO Item VALUES ( 42,	'S9'	, 40, 60, 1, 0, 3)
INSERT INTO Item VALUES ( 43,	'S10'	, 40, 50, 1, 0, 3)
GO



INSERT INTO ItemRelationship VALUES ( 1, 1, 7, 1) --WA - F1
INSERT INTO ItemRelationship VALUES ( 2, 1, 27, 2) --GA - F1
INSERT INTO ItemRelationship VALUES ( 3, 1, 30, 2) --SA - F1
INSERT INTO ItemRelationship VALUES ( 4, 7, 12, 2) --W1 - WA
INSERT INTO ItemRelationship VALUES ( 5, 7, 13, 2) --W2 - WA
INSERT INTO ItemRelationship VALUES ( 6, 7, 14, 2) --W3 - WA
INSERT INTO ItemRelationship VALUES ( 7, 7, 15, 2) --W4 - WA
INSERT INTO ItemRelationship VALUES ( 8, 7, 16, 2) --W5 - WA
INSERT INTO ItemRelationship VALUES ( 9, 30, 34, 3) --S1 - SA
INSERT INTO ItemRelationship VALUES ( 10, 30, 35, 10) --S2 - SA
INSERT INTO ItemRelationship VALUES ( 11, 30, 36, 2) --S3 - SA
INSERT INTO ItemRelationship VALUES ( 12, 30, 37, 2) --S4 - SA
INSERT INTO ItemRelationship VALUES ( 13, 2, 8, 2) --WB - F2
INSERT INTO ItemRelationship VALUES ( 14, 2, 28, 1) --GB - F2
INSERT INTO ItemRelationship VALUES ( 15, 2, 31, 3) --SB - F2
INSERT INTO ItemRelationship VALUES ( 16, 8, 17, 2) --W6 - WB
INSERT INTO ItemRelationship VALUES ( 17, 8, 18, 3) --W7 - WB
INSERT INTO ItemRelationship VALUES ( 18, 8, 19, 5) --W8 - WB
INSERT INTO ItemRelationship VALUES ( 19, 8, 20, 2) --W9 - WB
INSERT INTO ItemRelationship VALUES ( 20, 31, 35, 10) --S2 - SB
INSERT INTO ItemRelationship VALUES ( 21, 31, 36, 3) --S3 - SB
INSERT INTO ItemRelationship VALUES ( 22, 31, 37, 2) --S4 - SB
INSERT INTO ItemRelationship VALUES ( 23, 31, 38, 6) --S5 - SB
INSERT INTO ItemRelationship VALUES ( 24, 3, 9, 2) --WC - F3
INSERT INTO ItemRelationship VALUES ( 25, 3, 32, 1) --SC - F3
INSERT INTO ItemRelationship VALUES ( 26, 9, 18, 3) --W7 - WC
INSERT INTO ItemRelationship VALUES ( 27, 9, 19, 3) --W8 - WC
INSERT INTO ItemRelationship VALUES ( 28, 9, 20, 2) --W9 - WC
INSERT INTO ItemRelationship VALUES ( 29, 9, 21, 4) --W10 - WC
INSERT INTO ItemRelationship VALUES ( 30, 9, 22, 5) --W11 - WC
INSERT INTO ItemRelationship VALUES ( 31, 9, 23, 3) --W12 - WC
INSERT INTO ItemRelationship VALUES ( 32, 32, 35, 10) --S2 - SC
INSERT INTO ItemRelationship VALUES ( 33, 32, 39, 3) --S6 - SC
INSERT INTO ItemRelationship VALUES ( 34, 32, 40, 8) --S7 - SC
INSERT INTO ItemRelationship VALUES ( 35, 32, 41, 4) --S8 - SC
INSERT INTO ItemRelationship VALUES ( 36, 4, 7, 3) --WA - F4
INSERT INTO ItemRelationship VALUES ( 37, 4, 29, 4) --GC - F4
INSERT INTO ItemRelationship VALUES ( 38, 4, 33, 2) --SD - F4
INSERT INTO ItemRelationship VALUES ( 44, 33, 35, 10) --S2 - SD
INSERT INTO ItemRelationship VALUES ( 45, 33, 38, 7) --S5 - SD
INSERT INTO ItemRelationship VALUES ( 46, 33, 40, 4) --S7 - SD
INSERT INTO ItemRelationship VALUES ( 47, 33, 42, 4) --S9 - SD
INSERT INTO ItemRelationship VALUES ( 48, 33, 43, 2) --S10 - SD
INSERT INTO ItemRelationship VALUES ( 49, 5, 10, 4) --WD - F5
INSERT INTO ItemRelationship VALUES ( 50, 5, 27, 5) --GA - F5
INSERT INTO ItemRelationship VALUES ( 51, 5, 31, 4) --SB - F5
INSERT INTO ItemRelationship VALUES ( 52, 10, 22, 2) --W11 - WD
INSERT INTO ItemRelationship VALUES ( 53, 10, 23, 3) --W12 - WD
INSERT INTO ItemRelationship VALUES ( 54, 10, 24, 2) --W13 - WD
INSERT INTO ItemRelationship VALUES ( 55, 10, 25, 5) --W14 - WD
INSERT INTO ItemRelationship VALUES ( 56, 6, 11, 3) --WE - F6
INSERT INTO ItemRelationship VALUES ( 57, 6, 29, 2) --GC - F6
INSERT INTO ItemRelationship VALUES ( 58, 6, 32, 3) --SC - F6
INSERT INTO ItemRelationship VALUES ( 59, 11, 13, 2) --W2 - WE
INSERT INTO ItemRelationship VALUES ( 60, 11, 14, 2) --W3 - WE
INSERT INTO ItemRelationship VALUES ( 61, 11, 22, 4) --W11 - WE
INSERT INTO ItemRelationship VALUES ( 62, 11, 26, 3) --W15 - WE
INSERT INTO ItemRelationship VALUES ( 63, 11, 16, 4) --W5 - WE
GO



INSERT INTO Orders VALUES ( 1, 4, 2022, 221, 1)
INSERT INTO Orders VALUES ( 2, 8, 2022, 229, 1)
INSERT INTO Orders VALUES ( 3, 12, 2022, 227, 1)
INSERT INTO Orders VALUES ( 4, 16, 2022, 566, 1)
INSERT INTO Orders VALUES ( 5, 20, 2022, 613, 1)
INSERT INTO Orders VALUES ( 6, 24, 2022, 658, 1)
INSERT INTO Orders VALUES ( 7, 28, 2022, 446, 1)
INSERT INTO Orders VALUES ( 8, 32, 2022, 229, 1)
INSERT INTO Orders VALUES ( 9, 36, 2022, 240, 1)
INSERT INTO Orders VALUES ( 10, 40, 2022, 234, 1)
INSERT INTO Orders VALUES ( 11, 44, 2022, 256, 1)
INSERT INTO Orders VALUES ( 12, 48, 2022, 270, 1)
INSERT INTO Orders VALUES ( 13, 4, 2022, 226, 2)
INSERT INTO Orders VALUES ( 14, 8, 2022, 253, 2)
INSERT INTO Orders VALUES ( 15, 12, 2022, 228, 2)
INSERT INTO Orders VALUES ( 16, 16, 2022, 649, 2)
INSERT INTO Orders VALUES ( 17, 20, 2022, 674, 2)
INSERT INTO Orders VALUES ( 18, 24, 2022, 686, 2)
INSERT INTO Orders VALUES ( 19, 28, 2022, 481, 2)
INSERT INTO Orders VALUES ( 20, 32, 2022, 279, 2)
INSERT INTO Orders VALUES ( 21, 36, 2022, 257, 2)
INSERT INTO Orders VALUES ( 22, 40, 2022, 230, 2)
INSERT INTO Orders VALUES ( 23, 44, 2022, 277, 2)
INSERT INTO Orders VALUES ( 24, 48, 2022, 252, 2)
INSERT INTO Orders VALUES ( 25, 4, 2022, 277, 3)
INSERT INTO Orders VALUES ( 26, 8, 2022, 257, 3)
INSERT INTO Orders VALUES ( 27, 12, 2022, 248, 3)
INSERT INTO Orders VALUES ( 28, 16, 2022, 563, 3)
INSERT INTO Orders VALUES ( 29, 20, 2022, 588, 3)
INSERT INTO Orders VALUES ( 30, 24, 2022, 610, 3)
INSERT INTO Orders VALUES ( 31, 28, 2022, 419, 3)
INSERT INTO Orders VALUES ( 32, 32, 2022, 263, 3)
INSERT INTO Orders VALUES ( 33, 36, 2022, 279, 3)
INSERT INTO Orders VALUES ( 34, 40, 2022, 277, 3)
INSERT INTO Orders VALUES ( 35, 44, 2022, 267, 3)
INSERT INTO Orders VALUES ( 36, 48, 2022, 278, 3)
INSERT INTO Orders VALUES ( 37, 4, 2022, 278, 4)
INSERT INTO Orders VALUES ( 38, 8, 2022, 251, 4)
INSERT INTO Orders VALUES ( 39, 12, 2022, 251, 4)
INSERT INTO Orders VALUES ( 40, 16, 2022, 611, 4)
INSERT INTO Orders VALUES ( 41, 20, 2022, 735, 4)
INSERT INTO Orders VALUES ( 42, 24, 2022, 827, 4)
INSERT INTO Orders VALUES ( 43, 28, 2022, 660, 4)
INSERT INTO Orders VALUES ( 44, 32, 2022, 300, 4)
INSERT INTO Orders VALUES ( 45, 36, 2022, 277, 4)
INSERT INTO Orders VALUES ( 46, 40, 2022, 273, 4)
INSERT INTO Orders VALUES ( 47, 44, 2022, 292, 4)
INSERT INTO Orders VALUES ( 48, 48, 2022, 268, 4)
INSERT INTO Orders VALUES ( 49, 4, 2022, 287, 5)
INSERT INTO Orders VALUES ( 50, 8, 2022, 291, 5)
INSERT INTO Orders VALUES ( 51, 12, 2022, 299, 5)
INSERT INTO Orders VALUES ( 52, 16, 2022, 751, 5)
INSERT INTO Orders VALUES ( 53, 20, 2022, 761, 5)
INSERT INTO Orders VALUES ( 54, 24, 2022, 755, 5)
INSERT INTO Orders VALUES ( 55, 28, 2022, 542, 5)
INSERT INTO Orders VALUES ( 56, 32, 2022, 258, 5)
INSERT INTO Orders VALUES ( 57, 36, 2022, 296, 5)
INSERT INTO Orders VALUES ( 58, 40, 2022, 301, 5)
INSERT INTO Orders VALUES ( 59, 44, 2022, 308, 5)
INSERT INTO Orders VALUES ( 60, 48, 2022, 272, 5)
INSERT INTO Orders VALUES ( 61, 4, 2022, 295, 6)
INSERT INTO Orders VALUES ( 62, 8, 2022, 296, 6)
INSERT INTO Orders VALUES ( 63, 12, 2022, 273, 6)
INSERT INTO Orders VALUES ( 64, 16, 2022, 697, 6)
INSERT INTO Orders VALUES ( 65, 20, 2022, 661, 6)
INSERT INTO Orders VALUES ( 66, 24, 2022, 664, 6)
INSERT INTO Orders VALUES ( 67, 28, 2022, 488, 6)
INSERT INTO Orders VALUES ( 68, 32, 2022, 295, 6)
INSERT INTO Orders VALUES ( 69, 36, 2022, 262, 6)
INSERT INTO Orders VALUES ( 70, 40, 2022, 273, 6)
INSERT INTO Orders VALUES ( 71, 44, 2022, 283, 6)
INSERT INTO Orders VALUES ( 72, 48, 2022, 289, 6)